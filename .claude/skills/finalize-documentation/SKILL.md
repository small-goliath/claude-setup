---
name: finalize-documentation
description: 테스트 성공 후 CLAUDE.md 문서를 최종 업데이트합니다
context: fork
agent: documentation-finalizer
disable-model-invocation: true
allowed-tools: Read, Grep, Glob, Bash(git *), Edit, Write
---

# CLAUDE.md 최종 업데이트

## 목차

- [CLAUDE.md 최종 업데이트](#claudemd-최종-업데이트)
  - [개요](#개요)
  - [실행 단계](#실행-단계)
    - [1단계: Git 히스토리 분석](#1단계-git-히스토리-분석)
    - [2단계: 변경사항 분석](#2단계-변경사항-분석)
    - [3단계: CLAUDE.md 읽기](#3단계-claudemd-읽기)
    - [4단계: 구현 내용 정리](#4단계-구현-내용-정리)
    - [5단계: CLAUDE.md 업데이트](#5단계-claudemd-업데이트)
    - [6단계: 문서 검증](#6단계-문서-검증)
  - [출력 형식](#출력-형식)

테스트가 성공적으로 완료된 후, 전체 워크플로우 실행 결과를 CLAUDE.md 문서에 체계적으로 기록합니다.

## 개요

이 스킬은 다음을 수행합니다:
1. Git 커밋 히스토리 분석 (`git log`, `git diff`)
2. 구현된 기능 및 변경사항 파악
3. CLAUDE.md 파일 읽기
4. 구현 내용을 구조화된 형식으로 정리
5. CLAUDE.md 파일 업데이트 (최상단에 추가)
6. 업데이트 결과 검증

## 실행 단계

### 1단계: Git 히스토리 분석

**커밋 히스토리 확인**:
```bash
git log --oneline -20
git log --stat -10
```

**목적**: 최근 커밋 목록과 각 커밋의 변경 파일을 파악합니다.

### 2단계: 변경사항 분석

**전체 변경사항 확인**:
```bash
git diff main...HEAD --stat
git diff main...HEAD --name-status
```

**파악 사항**:
- 추가된 파일 (A)
- 수정된 파일 (M)
- 삭제된 파일 (D)
- 이름 변경된 파일 (R)

### 3단계: CLAUDE.md 읽기

**현재 문서 확인**:
- CLAUDE.md 파일이 존재하는지 확인
- 존재하지 않으면 새로 생성
- 존재하면 기존 내용 파악

### 4단계: 구현 내용 정리

다음 형식으로 정리:

```markdown
## [이슈번호] 구현 완료

### 📌 개요
- **이슈**: #[번호] [제목]
- **브랜치**: feature/[이슈번호]
- **구현 날짜**: [YYYY-MM-DD]

### 🎯 구현 내용

#### 주요 기능
1. [기능 1]
2. [기능 2]
3. [기능 3]

#### 변경된 파일
- **추가**:
  - `path/to/new/file1.java`
  - `path/to/new/file2.java`
- **수정**:
  - `path/to/modified/file1.java`
  - `path/to/modified/file2.java`
- **삭제**:
  - `path/to/deleted/file.java`

### 🧪 테스트
- **테스트 타입**: [단위 테스트 / 통합 테스트]
- **테스트 결과**: ✅ 통과
- **커버리지**: [X]%

### 📝 참고사항
- [특이사항 1]
- [특이사항 2]

### 🔗 관련 문서
- PRD: `.taskmaster/docs/PRD.md`
- 설계: [설계 문서 경로]
- Task 목록: `.taskmaster/tasks/tasks.json`
```

### 5단계: CLAUDE.md 업데이트

**업데이트 방식**:
1. 기존 CLAUDE.md 내용 보존
2. 새로운 구현 내용을 파일 최상단에 추가
3. 기존 내용은 아래로 이동
4. 날짜별로 구분 (최신 내용이 위)

**예시**:
```markdown
# CLAUDE.md

## [새로운 구현] #12345 사용자 인증 구현 완료

[새로운 내용...]

---

## [기존 내용] #12344 이전 구현

[기존 내용...]
```

### 6단계: 문서 검증

**확인 사항**:
- [ ] 모든 커밋이 반영되었는가?
- [ ] 파일 목록이 정확한가?
- [ ] 테스트 결과가 포함되었는가?
- [ ] 마크다운 포맷이 올바른가?
- [ ] 링크가 유효한가?

## 출력 형식

업데이트 완료 후 다음 정보를 출력:

```markdown
✅ CLAUDE.md 업데이트 완료!

📊 업데이트 요약:
- 이슈: #[번호]
- 추가된 파일: [N]개
- 수정된 파일: [N]개
- 삭제된 파일: [N]개
- 총 커밋: [N]개
- 테스트: ✅ 통과

📄 문서 위치: CLAUDE.md
```

## 주의사항

1. **기존 내용 보존**: CLAUDE.md의 기존 내용을 절대 삭제하지 마세요
2. **정확한 경로**: 파일 경로는 프로젝트 루트 기준 상대 경로로 작성하세요
3. **커밋 메시지 활용**: 커밋 메시지를 참고하여 구현 내용을 작성하세요
4. **테스트 결과**: 실제 테스트 실행 결과를 정확히 반영하세요
5. **날짜 표기**: YYYY-MM-DD 형식 사용
